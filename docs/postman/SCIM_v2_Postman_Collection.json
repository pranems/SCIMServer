{
  "info": {
    "name": "SCIM v2 - Example Collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": { "major": 1, "minor": 4 },
    "description": "SCIM 2.0 test collection — passes all 24 Microsoft SCIM Validator tests + 7 preview. Includes RFC 7644 §3.4.3 POST /.search, §3.4.2.5 attribute projection, §3.14 ETag support, SSE log streaming, and log file download."
  },
  "item": [
    {
      "name": "Get ServiceProviderConfig",
      "request": {
        "method": "GET",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
        "url": { "raw": "{{base_url}}/ServiceProviderConfig", "host": [ "{{base_url}}" ], "path": [ "ServiceProviderConfig" ] }
      }
    },
    {
      "name": "Get Instance Version & Runtime Info",
      "request": {
        "method": "GET",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
        "url": {
          "raw": "{{admin_url}}/admin/version",
          "host": [ "{{admin_url}}" ],
          "path": [ "admin", "version" ]
        },
        "description": "Returns running instance metadata: version, service uptime, runtime/memory, auth configuration flags, storage, and deployment details."
      }
    },
    {
      "name": "Get ResourceTypes",
      "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{base_url}}/ResourceTypes", "host": [ "{{base_url}}" ], "path": [ "ResourceTypes" ] } }
    },
    {
      "name": "Create User",
      "request": {
        "method": "POST",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" }, { "key": "Content-Type", "value": "application/scim+json" } ],
        "body": { "mode": "raw", "raw": "$(cat docs/examples/user.json)", "options": { "raw": { "language": "json" } } },
        "url": { "raw": "{{base_url}}/Users", "host": [ "{{base_url}}" ], "path": [ "Users" ] }
      }
    },
    {
      "name": "Get Users",
      "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{base_url}}/Users?startIndex=1&count=50", "host": [ "{{base_url}}" ], "path": [ "Users" ], "query": [ { "key": "startIndex", "value": "1" }, { "key": "count", "value": "50" } ] } }
    },
    {
      "name": "Get Users (attributes projection)",
      "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{base_url}}/Users?startIndex=1&count=50&attributes=userName,displayName", "host": [ "{{base_url}}" ], "path": [ "Users" ], "query": [ { "key": "startIndex", "value": "1" }, { "key": "count", "value": "50" }, { "key": "attributes", "value": "userName,displayName" } ] } }
    },
    {
      "name": "Filter Users (case-insensitive)",
      "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{base_url}}/Users?filter=userName eq \"alice@example.com\"", "host": [ "{{base_url}}" ], "path": [ "Users" ], "query": [ { "key": "filter", "value": "userName eq \"alice@example.com\"" } ] } }
    },
    {
      "name": "Search Users (POST /.search)",
      "request": {
        "method": "POST",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" }, { "key": "Content-Type", "value": "application/scim+json" } ],
        "body": { "mode": "raw", "raw": "{\"schemas\":[\"urn:ietf:params:scim:api:messages:2.0:SearchRequest\"],\"filter\":\"userName eq \\\"alice@example.com\\\"\",\"startIndex\":1,\"count\":10,\"attributes\":\"userName,displayName\"}", "options": { "raw": { "language": "json" } } },
        "url": { "raw": "{{base_url}}/Users/.search", "host": [ "{{base_url}}" ], "path": [ "Users", ".search" ] }
      }
    },
    {
      "name": "Get User (with ETag / If-None-Match)",
      "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" }, { "key": "If-None-Match", "value": "W/\"1\"", "description": "Returns 304 if resource version matches" } ], "url": { "raw": "{{base_url}}/Users/{{user_id}}", "host": [ "{{base_url}}" ], "path": [ "Users", "{{user_id}}" ] } }
    },
    {
      "name": "Create Group",
      "request": { "method": "POST", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" }, { "key": "Content-Type", "value": "application/scim+json" } ], "body": { "mode": "raw", "raw": "$(cat docs/examples/group.json)", "options": { "raw": { "language": "json" } } }, "url": { "raw": "{{base_url}}/Groups", "host": [ "{{base_url}}" ], "path": [ "Groups" ] } }
    },
    {
      "name": "Get Groups (excludedAttributes=members)",
      "request": { "method": "GET", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ], "url": { "raw": "{{base_url}}/Groups?excludedAttributes=members", "host": [ "{{base_url}}" ], "path": [ "Groups" ], "query": [ { "key": "excludedAttributes", "value": "members" } ] } }
    },
    {
      "name": "Search Groups (POST /.search)",
      "request": {
        "method": "POST",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" }, { "key": "Content-Type", "value": "application/scim+json" } ],
        "body": { "mode": "raw", "raw": "{\"schemas\":[\"urn:ietf:params:scim:api:messages:2.0:SearchRequest\"],\"filter\":\"displayName eq \\\"Engineering\\\"\",\"startIndex\":1,\"count\":10}", "options": { "raw": { "language": "json" } } },
        "url": { "raw": "{{base_url}}/Groups/.search", "host": [ "{{base_url}}" ], "path": [ "Groups", ".search" ] }
      }
    },
    {
      "name": "Patch User - ValuePath Replace",
      "request": { "method": "PATCH", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" }, { "key": "Content-Type", "value": "application/scim+json" } ], "body": { "mode": "raw", "raw": "{\"schemas\":[\"urn:ietf:params:scim:api:messages:2.0:PatchOp\"],\"Operations\":[{\"op\":\"replace\",\"path\":\"emails[type eq \\\"work\\\"].value\",\"value\":\"new@example.com\"}]}", "options": { "raw": { "language": "json" } } }, "url": { "raw": "{{base_url}}/Users/{{user_id}}", "host": [ "{{base_url}}" ], "path": [ "Users", "{{user_id}}" ] } }
    },
    {
      "name": "Patch User - Enterprise Extension Manager",
      "request": { "method": "PATCH", "header": [ { "key": "Authorization", "value": "Bearer {{token}}" }, { "key": "Content-Type", "value": "application/scim+json" } ], "body": { "mode": "raw", "raw": "{\"schemas\":[\"urn:ietf:params:scim:api:messages:2.0:PatchOp\"],\"Operations\":[{\"op\":\"add\",\"path\":\"urn:ietf:params:scim:schemas:extension:enterprise:2.0:User:manager\",\"value\":{\"value\":\"mgr-001\",\"displayName\":\"Bob Manager\"}}]}", "options": { "raw": { "language": "json" } } }, "url": { "raw": "{{base_url}}/Users/{{user_id}}", "host": [ "{{base_url}}" ], "path": [ "Users", "{{user_id}}" ] } }
    },
    {
      "name": "Get Log Configuration",
      "request": {
        "method": "GET",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
        "url": { "raw": "{{admin_url}}/admin/log-config", "host": [ "{{admin_url}}" ], "path": [ "admin", "log-config" ] }
      }
    },
    {
      "name": "Update Log Configuration",
      "request": {
        "method": "PUT",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" }, { "key": "Content-Type", "value": "application/json" } ],
        "body": { "mode": "raw", "raw": "{\"globalLevel\":\"INFO\",\"includePayloads\":false,\"format\":\"json\",\"categoryLevels\":{\"scim.patch\":\"DEBUG\",\"auth\":\"WARN\"}}", "options": { "raw": { "language": "json" } } },
        "url": { "raw": "{{admin_url}}/admin/log-config", "host": [ "{{admin_url}}" ], "path": [ "admin", "log-config" ] }
      }
    },
    {
      "name": "Set Global Log Level (TRACE)",
      "request": {
        "method": "PUT",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
        "url": { "raw": "{{admin_url}}/admin/log-config/level/TRACE", "host": [ "{{admin_url}}" ], "path": [ "admin", "log-config", "level", "TRACE" ] }
      }
    },
    {
      "name": "Set Category Log Level (scim.patch=TRACE)",
      "request": {
        "method": "PUT",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
        "url": { "raw": "{{admin_url}}/admin/log-config/category/scim.patch/TRACE", "host": [ "{{admin_url}}" ], "path": [ "admin", "log-config", "category", "scim.patch", "TRACE" ] }
      }
    },
    {
      "name": "Set Endpoint Log Level Override",
      "request": {
        "method": "PUT",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
        "url": { "raw": "{{admin_url}}/admin/log-config/endpoint/{{endpoint_id}}/TRACE", "host": [ "{{admin_url}}" ], "path": [ "admin", "log-config", "endpoint", "{{endpoint_id}}", "TRACE" ] }
      }
    },
    {
      "name": "Remove Endpoint Log Level Override",
      "request": {
        "method": "DELETE",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
        "url": { "raw": "{{admin_url}}/admin/log-config/endpoint/{{endpoint_id}}", "host": [ "{{admin_url}}" ], "path": [ "admin", "log-config", "endpoint", "{{endpoint_id}}" ] }
      }
    },
    {
      "name": "Get Recent Logs",
      "request": {
        "method": "GET",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
        "url": { "raw": "{{admin_url}}/admin/log-config/recent?limit=50&level=WARN", "host": [ "{{admin_url}}" ], "path": [ "admin", "log-config", "recent" ], "query": [ { "key": "limit", "value": "50" }, { "key": "level", "value": "WARN" } ] }
      }
    },
    {
      "name": "Get Recent Logs by Request ID",
      "request": {
        "method": "GET",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
        "url": { "raw": "{{admin_url}}/admin/log-config/recent?requestId={{request_id}}", "host": [ "{{admin_url}}" ], "path": [ "admin", "log-config", "recent" ], "query": [ { "key": "requestId", "value": "{{request_id}}" } ] }
      }
    },
    {
      "name": "Clear Recent Logs",
      "request": {
        "method": "DELETE",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
        "url": { "raw": "{{admin_url}}/admin/log-config/recent", "host": [ "{{admin_url}}" ], "path": [ "admin", "log-config", "recent" ] }
      }
    },
    {
      "name": "Stream Logs (SSE)",
      "request": {
        "method": "GET",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" }, { "key": "Accept", "value": "text/event-stream" } ],
        "url": { "raw": "{{admin_url}}/admin/log-config/stream?level=INFO", "host": [ "{{admin_url}}" ], "path": [ "admin", "log-config", "stream" ], "query": [ { "key": "level", "value": "INFO", "description": "Minimum log level: TRACE, DEBUG, INFO, WARN, ERROR, FATAL" }, { "key": "category", "value": "", "disabled": true, "description": "Filter by category: http, auth, scim.user, scim.group, scim.patch, scim.filter, scim.discovery, endpoint, database, backup, oauth, general" }, { "key": "endpointId", "value": "", "disabled": true, "description": "Filter by SCIM endpoint ID" } ] },
        "description": "Server-Sent Events (SSE) endpoint for real-time log tailing. Connect with curl -N or EventSource API. Sends keep-alive pings every 30s."
      }
    },
    {
      "name": "Download Logs (NDJSON)",
      "request": {
        "method": "GET",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
        "url": { "raw": "{{admin_url}}/admin/log-config/download?format=ndjson", "host": [ "{{admin_url}}" ], "path": [ "admin", "log-config", "download" ], "query": [ { "key": "format", "value": "ndjson", "description": "Output format: ndjson (default) or json" }, { "key": "limit", "value": "100", "disabled": true, "description": "Max entries (up to 500)" }, { "key": "level", "value": "", "disabled": true, "description": "Minimum log level filter" }, { "key": "category", "value": "", "disabled": true, "description": "Category filter" }, { "key": "requestId", "value": "", "disabled": true, "description": "Filter by X-Request-Id correlation ID" }, { "key": "endpointId", "value": "", "disabled": true, "description": "Filter by SCIM endpoint ID" } ] },
        "description": "Download ring buffer logs as NDJSON or JSON file. Returns Content-Disposition header with timestamped filename."
      }
    },
    {
      "name": "Download Logs (JSON)",
      "request": {
        "method": "GET",
        "header": [ { "key": "Authorization", "value": "Bearer {{token}}" } ],
        "url": { "raw": "{{admin_url}}/admin/log-config/download?format=json", "host": [ "{{admin_url}}" ], "path": [ "admin", "log-config", "download" ], "query": [ { "key": "format", "value": "json" }, { "key": "limit", "value": "100", "disabled": true }, { "key": "level", "value": "ERROR", "disabled": true, "description": "Download only ERROR+ entries" } ] },
        "description": "Download ring buffer logs as a JSON array."
      }
    }
  ],
  "variable": [ { "key": "base_url", "value": "http://localhost:6000/scim/endpoints/{endpointId}" }, { "key": "admin_url", "value": "http://localhost:6000/scim" }, { "key": "token", "value": "" }, { "key": "user_id", "value": "" }, { "key": "endpoint_id", "value": "" }, { "key": "request_id", "value": "" } ]
}
